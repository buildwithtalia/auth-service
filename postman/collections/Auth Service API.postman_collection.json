{
  "info": {
    "_postman_id": "45b1e245-e286-48ce-8c1b-b0e3494df067",
    "name": "Auth Service API",
    "description": "# Auth Service API\n\nA secure, production-ready authentication system built with a microservices architecture. The system is split into two specialized services working together to provide comprehensive authentication and session management capabilities.\n\n## üèóÔ∏è Architecture Overview\n\nThis API consists of two independent microservices:\n\n- **Login Service** (Port 3001): Handles user registration, authentication, and token generation\n- **Logout Service** (Port 3002): Manages token invalidation, session termination, and token blacklisting\n\n## üöÄ Getting Started\n\n### Base URLs\n\nThe services run on localhost by default:\n\n```\nLogin Service:  http://localhost:3001\nLogout Service: http://localhost:3002\n```\n\n### Environment Variables\n\nThis collection uses the following variables:\n\n| Variable | Default Value | Description |\n|----------|---------------|-------------|\n| `baseUrl` | `http://localhost` | Base URL for both services |\n| `loginServicePort` | `3001` | Port for Login Service |\n| `logoutServicePort` | `3002` | Port for Logout Service |\n| `accessToken` | (empty) | JWT access token (auto-populated after login) |\n| `refreshToken` | (empty) | JWT refresh token (auto-populated after login) |\n| `userId` | (empty) | User ID (auto-populated after registration) |\n\n## üîê Authentication\n\nThis API uses **Bearer Token Authentication** with JWT (JSON Web Tokens).\n\n### Token Types\n\n1. **Access Token**: Short-lived token (24 hours) used for authenticating API requests\n2. **Refresh Token**: Long-lived token (7 days) stored as HTTP-only cookie, used to obtain new access tokens\n\n### Using Authentication\n\nInclude the access token in the Authorization header for protected endpoints:\n\n```\nAuthorization: Bearer {{accessToken}}\n```\n\nThe collection automatically manages tokens through test scripts:\n- Login/Register requests save the `accessToken` to collection variables\n- Protected requests use `{{accessToken}}` variable\n- Refresh endpoint updates the token automatically\n\n## üìã Common Workflows\n\n### 1. New User Registration\n\n```\nPOST /api/auth/register\n```\n\nRegister a new user account. The request automatically generates random credentials that meet password requirements.\n\n### 2. User Login\n\n```\nPOST /api/auth/login\n```\n\nAuthenticate with email and password. Returns an access token and sets a refresh token cookie.\n\n### 3. Access Protected Resources\n\n```\nGET /api/auth/me\nAuthorization: Bearer {{accessToken}}\n```\n\nUse the access token to access protected endpoints like user profile.\n\n### 4. Token Refresh\n\n```\nPOST /api/auth/refresh\n```\n\nWhen the access token expires, use this endpoint to get a new one using the refresh token cookie.\n\n### 5. Logout\n\n```\nPOST /api/logout\nAuthorization: Bearer {{accessToken}}\n```\n\nInvalidate the current session by blacklisting the access token.\n\n## üìä Response Format\n\nAll endpoints return JSON responses with consistent structure:\n\n### Success Response\n```json\n{\n  \"success\": true,\n  \"data\": { ... },\n  \"message\": \"Operation successful\"\n}\n```\n\n### Error Response\n```json\n{\n  \"success\": false,\n  \"error\": \"Error message\",\n  \"code\": \"ERROR_CODE\"\n}\n```\n\n## üîí Security Features\n\n- **Password Requirements**: 8-128 characters with at least one lowercase, uppercase, number, and special character\n- **JWT Tokens**: Cryptographically signed tokens with expiration\n- **Token Blacklisting**: Logout immediately invalidates tokens\n- **HTTP-Only Cookies**: Refresh tokens stored securely\n- **Session Management**: Track and manage active sessions across devices\n\n## ‚ö†Ô∏è Common Error Codes\n\n| Status Code | Description |\n|-------------|-------------|\n| `200` | Success |\n| `201` | Resource created successfully |\n| `400` | Bad request - Invalid input data |\n| `401` | Unauthorized - Invalid or missing token |\n| `403` | Forbidden - Token blacklisted or insufficient permissions |\n| `404` | Not found - Resource doesn't exist |\n| `409` | Conflict - Resource already exists (e.g., email in use) |\n| `500` | Internal server error |\n\n## üß™ Testing\n\nThis collection includes comprehensive test scripts that automatically:\n- Validate response status codes\n- Check response structure and data types\n- Verify JWT token format and expiration\n- Extract and save tokens for subsequent requests\n- Validate business logic rules\n\nRun the entire collection using the Collection Runner to test all endpoints in sequence.\n\n## üìù Additional Notes\n\n- All timestamps are in ISO 8601 format\n- Tokens are automatically managed by collection scripts\n- The Logout Service maintains a blacklist of invalidated tokens\n- Expired tokens are automatically cleaned up by the maintenance endpoint",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Login Service",
      "item": [
        {
          "name": "Health Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Health Check - Login Service Tests",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is acceptable (under 500ms)\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(500);",
                  "});",
                  "",
                  "pm.test(\"Content-Type header is application/json\", function () {",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
                  "});",
                  "",
                  "pm.test(\"Response has success field set to true\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"success\");",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response message contains 'healthy'\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"message\");",
                  "    pm.expect(jsonData.message.toLowerCase()).to.include(\"healthy\");",
                  "});",
                  "",
                  "pm.test(\"Response has timestamp field\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"timestamp\");",
                  "    pm.expect(jsonData.timestamp).to.be.a(\"string\");",
                  "});",
                  "",
                  "pm.test(\"Response has uptime field as number\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"uptime\");",
                  "    pm.expect(jsonData.uptime).to.be.a(\"number\");",
                  "});",
                  "",
                  "pm.test(\"Response has valid JSON structure\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an(\"object\");",
                  "    pm.expect(jsonData).to.have.all.keys(\"success\", \"message\", \"timestamp\", \"uptime\", \"environment\");",
                  "});"
                ]
              }
            }
          ],
          "id": "0bcf83f5-4643-4307-9c4d-7471bd53b417",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}:{{loginServicePort}}/health",
              "host": [
                "{{baseUrl}}"
              ],
              "port": "{{loginServicePort}}",
              "path": [
                "health"
              ]
            },
            "description": "Check if the Login Service is healthy and running"
          },
          "response": []
        },
        {
          "name": "Service Info",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Service Info - Login Service Tests",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is acceptable (under 500ms)\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(500);",
                  "});",
                  "",
                  "pm.test(\"Content-Type header is application/json\", function () {",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
                  "});",
                  "",
                  "pm.test(\"Response has success field set to true\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"success\");",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response has message field\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"message\");",
                  "    pm.expect(jsonData.message).to.be.a(\"string\");",
                  "});",
                  "",
                  "pm.test(\"Response has version field\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"version\");",
                  "    pm.expect(jsonData.version).to.be.a(\"string\");",
                  "});",
                  "",
                  "pm.test(\"Response has service field\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"service\");",
                  "    pm.expect(jsonData.service).to.be.a(\"string\");",
                  "});",
                  "",
                  "pm.test(\"Response has valid JSON structure\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an(\"object\");",
                  "    pm.expect(jsonData).to.have.property(\"endpoints\");",
                  "    pm.expect(jsonData.endpoints).to.be.an(\"array\");",
                  "});"
                ]
              }
            }
          ],
          "id": "cd4b930d-a9aa-481d-bbb3-9540917b6f3b",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}:{{loginServicePort}}/",
              "host": [
                "{{baseUrl}}"
              ],
              "port": "{{loginServicePort}}",
              "path": [
                ""
              ]
            },
            "description": "Get information about the Login Service and available endpoints"
          },
          "response": []
        },
        {
          "name": "Register User",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Register User Tests",
                  "",
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response time is acceptable (under 1000ms)\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(1000);",
                  "});",
                  "",
                  "pm.test(\"Content-Type header is application/json\", function () {",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
                  "});",
                  "",
                  "pm.test(\"Response has success field set to true\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"success\");",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response has data.user object\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"data\");",
                  "    pm.expect(jsonData.data).to.have.property(\"user\");",
                  "    pm.expect(jsonData.data.user).to.be.an(\"object\");",
                  "});",
                  "",
                  "pm.test(\"User object has id and email\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.user).to.have.property(\"id\");",
                  "    pm.expect(jsonData.data.user).to.have.property(\"email\");",
                  "    pm.expect(jsonData.data.user.email).to.be.a(\"string\");",
                  "});",
                  "",
                  "pm.test(\"Response has data.accessToken\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data).to.have.property(\"accessToken\");",
                  "    pm.expect(jsonData.data.accessToken).to.be.a(\"string\");",
                  "    pm.expect(jsonData.data.accessToken.length).to.be.greaterThan(0);",
                  "});",
                  "",
                  "// CRITICAL: Save accessToken to collection variables for subsequent requests",
                  "if (pm.response.code === 201) {",
                  "    const jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.accessToken) {",
                  "        pm.collectionVariables.set(\"accessToken\", jsonData.data.accessToken);",
                  "        console.log(\"Access token saved to collection variables\");",
                  "    }",
                  "    if (jsonData.data && jsonData.data.user && jsonData.data.user.email) {",
                  "        pm.collectionVariables.set(\"userEmail\", jsonData.data.user.email);",
                  "        console.log(\"User email saved to collection variables\");",
                  "    }",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "477923ba-a39a-4326-bd56-b85c0b179d73",
                "exec": [
                  "// Generate random email address",
                  "const randomString = Math.random().toString(36).substring(2, 10);",
                  "const randomEmail = `user_${randomString}@example.com`;",
                  "",
                  "// Generate random password meeting requirements:",
                  "// 8-128 characters with at least one lowercase, one uppercase, one number, and one special character",
                  "function generatePassword() {",
                  "    const lowercase = 'abcdefghijklmnopqrstuvwxyz';",
                  "    const uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';",
                  "    const numbers = '0123456789';",
                  "    const special = '!@#$%^&*()_+-=[]{}|;:,.<>?';",
                  "    const allChars = lowercase + uppercase + numbers + special;",
                  "    ",
                  "    // Ensure at least one of each required character type",
                  "    let password = '';",
                  "    password += lowercase.charAt(Math.floor(Math.random() * lowercase.length));",
                  "    password += uppercase.charAt(Math.floor(Math.random() * uppercase.length));",
                  "    password += numbers.charAt(Math.floor(Math.random() * numbers.length));",
                  "    password += special.charAt(Math.floor(Math.random() * special.length));",
                  "    ",
                  "    // Fill remaining characters (random length between 8-16 for practicality)",
                  "    const remainingLength = Math.floor(Math.random() * 9) + 4; // 4-12 more chars (total 8-16)",
                  "    for (let i = 0; i < remainingLength; i++) {",
                  "        password += allChars.charAt(Math.floor(Math.random() * allChars.length));",
                  "    }",
                  "    ",
                  "    // Shuffle the password to randomize character positions",
                  "    password = password.split('').sort(() => Math.random() - 0.5).join('');",
                  "    ",
                  "    return password;",
                  "}",
                  "",
                  "const randomPassword = generatePassword();",
                  "",
                  "// Set as local variables for use in request body",
                  "pm.variables.set('randomEmail', randomEmail);",
                  "pm.variables.set('randomPassword', randomPassword);",
                  "",
                  "// Save to collection variables for use in Login request",
                  "pm.collectionVariables.set('randomEmail', randomEmail);",
                  "pm.collectionVariables.set('randomPassword', randomPassword);",
                  "",
                  "console.log('Generated email:', randomEmail);",
                  "console.log('Generated password:', randomPassword);"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "ecff5370-de8a-4aff-a9f5-bf30ec86c051",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"email\":\"{{randomEmail}}\",\"password\":\"Test@123\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}:{{loginServicePort}}/api/auth/register",
              "host": [
                "{{baseUrl}}"
              ],
              "port": "{{loginServicePort}}",
              "path": [
                "api",
                "auth",
                "register"
              ]
            },
            "description": "Register a new user. Password must be 8-128 characters with at least one lowercase, one uppercase, one number, and one special character."
          },
          "response": [
            {
              "id": "7d0fd387-e0b6-4a71-bdf3-26a448a2a23b",
              "name": "400 - Missing Required Fields",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\"email\": \"user@example.com\"}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}:{{loginServicePort}}/api/auth/register",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "port": "{{loginServicePort}}",
                  "path": [
                    "api",
                    "auth",
                    "register"
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\"error\": \"Bad Request\", \"message\": \"Missing required fields: password, name\", \"statusCode\": 400, \"timestamp\": \"2024-01-15T10:30:00.000Z\", \"path\": \"/api/auth/register\"}"
            },
            {
              "id": "d0bd9c92-c434-4bb5-819a-cd2b13572154",
              "name": "409 - Email Already Exists",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\"email\": \"existing@example.com\", \"password\": \"SecurePass123!\", \"name\": \"John Doe\"}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}:{{loginServicePort}}/api/auth/register",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "port": "{{loginServicePort}}",
                  "path": [
                    "api",
                    "auth",
                    "register"
                  ]
                }
              },
              "status": "Conflict",
              "code": 409,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\"error\": \"Conflict\", \"message\": \"Email already exists. Please use a different email address.\", \"statusCode\": 409, \"timestamp\": \"2024-01-15T10:30:00.000Z\", \"path\": \"/api/auth/register\"}"
            },
            {
              "id": "22e4cfb6-3fb7-4b7d-9652-3ca1c411ace1",
              "name": "422 - Invalid Email Format",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\"email\": \"invalid-email\", \"password\": \"SecurePass123!\", \"name\": \"John Doe\"}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}:{{loginServicePort}}/api/auth/register",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "port": "{{loginServicePort}}",
                  "path": [
                    "api",
                    "auth",
                    "register"
                  ]
                }
              },
              "status": "Unprocessable Entity (WebDAV) (RFC 4918)",
              "code": 422,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\"error\": \"Unprocessable Entity\", \"message\": \"Validation failed\", \"statusCode\": 422, \"timestamp\": \"2024-01-15T10:30:00.000Z\", \"path\": \"/api/auth/register\", \"details\": [{\"field\": \"email\", \"message\": \"Invalid email format\"}, {\"field\": \"password\", \"message\": \"Password must be at least 8 characters long\"}]}"
            },
            {
              "id": "d823fb2b-2b63-4366-aad3-228083577304",
              "name": "429 - Rate Limit Exceeded",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\"email\": \"user@example.com\", \"password\": \"SecurePass123!\", \"name\": \"John Doe\"}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}:{{loginServicePort}}/api/auth/register",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "port": "{{loginServicePort}}",
                  "path": [
                    "api",
                    "auth",
                    "register"
                  ]
                }
              },
              "status": "Too Many Requests",
              "code": 429,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\"error\": \"Too Many Requests\", \"message\": \"Rate limit exceeded. Please try again later.\", \"statusCode\": 429, \"timestamp\": \"2024-01-15T10:30:00.000Z\", \"path\": \"/api/auth/register\", \"retryAfter\": 60}"
            },
            {
              "id": "a209f865-aacf-491c-b6c0-e517b44d7bc0",
              "name": "500 - Internal Server Error",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\"email\": \"user@example.com\", \"password\": \"SecurePass123!\", \"name\": \"John Doe\"}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}:{{loginServicePort}}/api/auth/register",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "port": "{{loginServicePort}}",
                  "path": [
                    "api",
                    "auth",
                    "register"
                  ]
                }
              },
              "status": "Internal Server Error",
              "code": 500,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\"error\": \"Internal Server Error\", \"message\": \"An unexpected error occurred while processing your request\", \"statusCode\": 500, \"timestamp\": \"2024-01-15T10:30:00.000Z\", \"path\": \"/api/auth/register\"}"
            }
          ]
        },
        {
          "name": "Login User",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Set next request to Get All Active Sessions on successful login",
                  "if (pm.response.code === 200) {",
                  "    pm.execution.setNextRequest(\"Get All Active Sessions\");",
                  "}"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "061e934b-1e22-4d32-95ae-56e545a1081f",
                "exec": [
                  "// Check if we have saved credentials from registration",
                  "const savedEmail = pm.collectionVariables.get('randomEmail');",
                  "const savedPassword = pm.collectionVariables.get('randomPassword');",
                  "",
                  "if (savedEmail && savedPassword) {",
                  "    // Use the saved credentials from registration",
                  "    pm.variables.set('randomEmail', savedEmail);",
                  "    pm.variables.set('randomPassword', savedPassword);",
                  "    console.log('Using saved credentials from registration');",
                  "    console.log('Email:', savedEmail);",
                  "} else {",
                  "    // No credentials found - user must run Register User request first",
                  "    console.error('ERROR: No credentials found in collection variables.');",
                  "    console.error('Please run the \"Register User\" request first to create an account.');",
                  "    console.error('The Login User request requires credentials that are saved during registration.');",
                  "    ",
                  "    // Throw an error to prevent the request from being sent",
                  "    throw new Error('No credentials available. Please run the Register User request first.');",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "f2fd11c4-bd4c-4885-8535-e4a1ff36e670",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"email\":\"{{randomEmail}}\",\"password\":\"Test@123\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}:{{loginServicePort}}/api/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "port": "{{loginServicePort}}",
              "path": [
                "api",
                "auth",
                "login"
              ]
            },
            "description": "Login user and receive access token and refresh token (stored as HTTP-only cookie)"
          },
          "response": []
        },
        {
          "name": "Get User Profile",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Get User Profile Tests",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is acceptable (under 500ms)\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(500);",
                  "});",
                  "",
                  "pm.test(\"Content-Type header is application/json\", function () {",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
                  "});",
                  "",
                  "pm.test(\"Response has success field set to true\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"success\");",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response has data.user object\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"data\");",
                  "    pm.expect(jsonData.data).to.have.property(\"user\");",
                  "    pm.expect(jsonData.data.user).to.be.an(\"object\");",
                  "});",
                  "",
                  "pm.test(\"User object has required fields\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data.user).to.have.property(\"id\");",
                  "    pm.expect(jsonData.data.user).to.have.property(\"email\");",
                  "});"
                ]
              }
            }
          ],
          "id": "3ef63698-ffaf-4932-a80b-6b1bebc44ccb",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}:{{loginServicePort}}/api/auth/me",
              "host": [
                "{{baseUrl}}"
              ],
              "port": "{{loginServicePort}}",
              "path": [
                "api",
                "auth",
                "me"
              ]
            },
            "description": "Get the current user's profile information. Requires valid access token."
          },
          "response": []
        },
        {
          "name": "Refresh Access Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Refresh Access Token Tests",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is acceptable (under 500ms)\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(500);",
                  "});",
                  "",
                  "pm.test(\"Content-Type header is application/json\", function () {",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
                  "});",
                  "",
                  "pm.test(\"Response has success field set to true\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"success\");",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response has data.accessToken\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"data\");",
                  "    pm.expect(jsonData.data).to.have.property(\"accessToken\");",
                  "    pm.expect(jsonData.data.accessToken).to.be.a(\"string\");",
                  "    pm.expect(jsonData.data.accessToken.length).to.be.greaterThan(0);",
                  "});",
                  "",
                  "// Save refreshed accessToken to collection variables",
                  "if (pm.response.code === 200) {",
                  "    const jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.accessToken) {",
                  "        pm.collectionVariables.set(\"accessToken\", jsonData.data.accessToken);",
                  "        console.log(\"Refreshed access token saved to collection variables\");",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "id": "867fb6f8-bbb1-4e7d-bea0-bef73b4a6ded",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}:{{loginServicePort}}/api/auth/refresh",
              "host": [
                "{{baseUrl}}"
              ],
              "port": "{{loginServicePort}}",
              "path": [
                "api",
                "auth",
                "refresh"
              ]
            },
            "description": "Refresh the access token using the refresh token stored in HTTP-only cookie"
          },
          "response": []
        }
      ],
      "id": "6251eb04-820c-4d39-aab0-eda51989d3a5",
      "description": "Handles user authentication and token generation (Port 3001)"
    },
    {
      "name": "Logout Service",
      "item": [
        {
          "name": "Health Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Health Check - Logout Service Tests",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is acceptable (under 500ms)\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(500);",
                  "});",
                  "",
                  "pm.test(\"Content-Type header is application/json\", function () {",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
                  "});",
                  "",
                  "pm.test(\"Response has success field set to true\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"success\");",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response message contains 'healthy'\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"message\");",
                  "    pm.expect(jsonData.message.toLowerCase()).to.include(\"healthy\");",
                  "});",
                  "",
                  "pm.test(\"Response has timestamp field\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"timestamp\");",
                  "    pm.expect(jsonData.timestamp).to.be.a(\"string\");",
                  "});",
                  "",
                  "pm.test(\"Response has uptime field as number\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"uptime\");",
                  "    pm.expect(jsonData.uptime).to.be.a(\"number\");",
                  "});",
                  "",
                  "pm.test(\"Response has valid JSON structure\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an(\"object\");",
                  "});"
                ]
              }
            }
          ],
          "id": "01a323bc-14d3-4d0f-aefc-ad44d3e21724",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}:{{logoutServicePort}}/health",
              "host": [
                "{{baseUrl}}"
              ],
              "port": "{{logoutServicePort}}",
              "path": [
                "health"
              ]
            },
            "description": "Check if the Logout Service is healthy and running"
          },
          "response": []
        },
        {
          "name": "Service Info",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Service Info - Logout Service Tests",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is acceptable (under 500ms)\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(500);",
                  "});",
                  "",
                  "pm.test(\"Content-Type header is application/json\", function () {",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
                  "});",
                  "",
                  "pm.test(\"Response has success field set to true\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"success\");",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response has message field\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"message\");",
                  "    pm.expect(jsonData.message).to.be.a(\"string\");",
                  "});",
                  "",
                  "pm.test(\"Response has version field\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"version\");",
                  "    pm.expect(jsonData.version).to.be.a(\"string\");",
                  "});",
                  "",
                  "pm.test(\"Response has service field\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"service\");",
                  "    pm.expect(jsonData.service).to.be.a(\"string\");",
                  "});",
                  "",
                  "pm.test(\"Response has valid JSON structure\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an(\"object\");",
                  "    pm.expect(jsonData).to.have.property(\"endpoints\");",
                  "    pm.expect(jsonData.endpoints).to.be.an(\"array\");",
                  "});"
                ]
              }
            }
          ],
          "id": "67ae2c7b-045f-4824-a42a-85f7def35615",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}:{{logoutServicePort}}/",
              "host": [
                "{{baseUrl}}"
              ],
              "port": "{{logoutServicePort}}",
              "path": [
                ""
              ]
            },
            "description": "Get information about the Logout Service and available endpoints"
          },
          "response": []
        },
        {
          "name": "Logout from All Devices",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Logout from All Devices Tests",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is acceptable (under 500ms)\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(500);",
                  "});",
                  "",
                  "pm.test(\"Content-Type header is application/json\", function () {",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
                  "});",
                  "",
                  "pm.test(\"Response has success field set to true\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"success\");",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response has message field\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"message\");",
                  "    pm.expect(jsonData.message).to.be.a(\"string\");",
                  "});",
                  "",
                  "pm.test(\"Response has valid JSON structure\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an(\"object\");",
                  "});"
                ]
              }
            }
          ],
          "id": "8dcaeb49-aade-40e4-8413-ac4744f9246b",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}:{{logoutServicePort}}/api/logout-all",
              "host": [
                "{{baseUrl}}"
              ],
              "port": "{{logoutServicePort}}",
              "path": [
                "api",
                "logout-all"
              ]
            },
            "description": "Logout user from all devices by invalidating all refresh tokens"
          },
          "response": []
        },
        {
          "name": "Invalidate Specific Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Invalidate Specific Token Tests",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is acceptable (under 500ms)\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(500);",
                  "});",
                  "",
                  "pm.test(\"Content-Type header is application/json\", function () {",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
                  "});",
                  "",
                  "pm.test(\"Response has success field set to true\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"success\");",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response has message field\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"message\");",
                  "    pm.expect(jsonData.message).to.be.a(\"string\");",
                  "});",
                  "",
                  "pm.test(\"Response has valid JSON structure\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an(\"object\");",
                  "});"
                ]
              }
            }
          ],
          "id": "5a1f86da-25f2-43be-b333-6fdc4db8dab3",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"jwt_token_to_invalidate\",\n  \"tokenType\": \"access\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}:{{logoutServicePort}}/api/invalidate-token",
              "host": [
                "{{baseUrl}}"
              ],
              "port": "{{logoutServicePort}}",
              "path": [
                "api",
                "invalidate-token"
              ]
            },
            "description": "Manually invalidate a specific token. Token type must be 'access' or 'refresh'."
          },
          "response": []
        },
        {
          "name": "Logout User",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7ead91d2-e554-46bc-9811-f1a0e69f7068",
                "exec": [
                  "// Logout User Tests",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is acceptable (under 500ms)\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(500);",
                  "});",
                  "",
                  "pm.test(\"Content-Type header is application/json\", function () {",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
                  "});",
                  "",
                  "pm.test(\"Response has success field set to true\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"success\");",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response has message field\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"message\");",
                  "    pm.expect(jsonData.message).to.be.a(\"string\");",
                  "});",
                  "",
                  "pm.test(\"Response has valid JSON structure\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an(\"object\");",
                  "});",
                  "// Re-authenticate after logout to get a fresh token for subsequent requests",
                  "if (pm.response.code === 200) {",
                  "    const baseUrl = pm.collectionVariables.get('baseUrl');",
                  "    const loginServicePort = pm.collectionVariables.get('loginServicePort');",
                  "    const email = pm.collectionVariables.get('randomEmail');",
                  "    const password = pm.collectionVariables.get('randomPassword');",
                  "    ",
                  "    const loginRequest = {",
                  "        url: `${baseUrl}:${loginServicePort}/api/auth/login`,",
                  "        method: 'POST',",
                  "        header: {",
                  "            'Content-Type': 'application/json'",
                  "        },",
                  "        body: {",
                  "            mode: 'raw',",
                  "            raw: JSON.stringify({",
                  "                email: email,",
                  "                password: password",
                  "            })",
                  "        }",
                  "    };",
                  "    ",
                  "    pm.sendRequest(loginRequest, (err, response) => {",
                  "        if (!err && response.code === 200) {",
                  "            const jsonData = response.json();",
                  "            if (jsonData.data && jsonData.data.accessToken) {",
                  "                pm.collectionVariables.set('accessToken', jsonData.data.accessToken);",
                  "                console.log('Re-authenticated successfully. New access token saved.');",
                  "            }",
                  "        } else {",
                  "            console.error('Failed to re-authenticate after logout:', err || response.code);",
                  "        }",
                  "    });",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9db141bf-156a-4b1d-aed2-e72868350565",
                "exec": [
                  "// Validate that required variables are set before logout",
                  "const accessToken = pm.collectionVariables.get('accessToken');",
                  "const userId = pm.collectionVariables.get('userId');",
                  "const userEmail = pm.collectionVariables.get('userEmail');",
                  "",
                  "if (!accessToken || accessToken === '') {",
                  "    console.warn('Warning: accessToken is not set. You may need to login first.');",
                  "    console.log('Run the \"Login User\" request to obtain an access token.');",
                  "} else {",
                  "    console.log('Access token found:', accessToken.substring(0, 20) + '...');",
                  "}",
                  "",
                  "if (!userId || userId === '') {",
                  "    console.warn('Warning: userId is not set. This was expected to be set by Login User request.');",
                  "} else {",
                  "    console.log('User ID found:', userId);",
                  "}",
                  "",
                  "if (!userEmail || userEmail === '') {",
                  "    console.warn('Warning: userEmail is not set. This was expected to be set by Login User request.');",
                  "} else {",
                  "    console.log('User email found:', userEmail);",
                  "}",
                  "",
                  "// Log the logout attempt",
                  "console.log('Attempting to logout user...');"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "b5a869ff-df5c-4cd7-87c2-3ff28b73c780",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}:{{logoutServicePort}}/api/logout",
              "host": [
                "{{baseUrl}}"
              ],
              "port": "{{logoutServicePort}}",
              "path": [
                "api",
                "logout"
              ]
            },
            "description": "Logout user from current session. Blacklists the access token and removes refresh token."
          },
          "response": [
            {
              "id": "a2125809-f711-4e52-a3de-02af25a36844",
              "name": "Successful Logout",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{accessToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}:{{logoutServicePort}}/api/logout",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "port": "{{logoutServicePort}}",
                  "path": [
                    "api",
                    "logout"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"success\": true,\n  \"message\": \"Logout successful\",\n  \"data\": {\n    \"tokenBlacklisted\": true,\n    \"logoutTime\": \"2024-01-22T20:00:00.000Z\"\n  }\n}"
            }
          ]
        },
        {
          "name": "Check Token Blacklist Status",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Check Token Blacklist Status Tests",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is acceptable (under 500ms)\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(500);",
                  "});",
                  "",
                  "pm.test(\"Content-Type header is application/json\", function () {",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
                  "});",
                  "",
                  "pm.test(\"Response has success field set to true\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"success\");",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response has data.isBlacklisted boolean\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"data\");",
                  "    pm.expect(jsonData.data).to.have.property(\"isBlacklisted\");",
                  "    pm.expect(jsonData.data.isBlacklisted).to.be.a(\"boolean\");",
                  "});",
                  "",
                  "pm.test(\"Response has valid JSON structure\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an(\"object\");",
                  "});"
                ]
              }
            }
          ],
          "id": "61ab7d59-a768-4671-b903-9f2a40cb1af9",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}:{{logoutServicePort}}/api/check-token/:token",
              "host": [
                "{{baseUrl}}"
              ],
              "port": "{{logoutServicePort}}",
              "path": [
                "api",
                "check-token",
                ":token"
              ],
              "variable": [
                {
                  "key": "token"
                }
              ]
            },
            "description": "Check if a token is blacklisted. Used for service-to-service communication."
          },
          "response": []
        },
        {
          "name": "Cleanup Expired Tokens",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Cleanup Expired Tokens Tests",
                  "",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response time is acceptable (under 500ms)\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(500);",
                  "});",
                  "",
                  "pm.test(\"Content-Type header is application/json\", function () {",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
                  "});",
                  "",
                  "pm.test(\"Response has success field set to true\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"success\");",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "pm.test(\"Response has message field\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"message\");",
                  "    pm.expect(jsonData.message).to.be.a(\"string\");",
                  "});",
                  "",
                  "pm.test(\"Response has data.removedTokens\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"data\");",
                  "    pm.expect(jsonData.data).to.have.property(\"removedTokens\");",
                  "    pm.expect(jsonData.data.removedTokens).to.be.a(\"number\");",
                  "});",
                  "",
                  "pm.test(\"Response has data.cleanupTime\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.data).to.have.property(\"cleanupTime\");",
                  "    pm.expect(jsonData.data.cleanupTime).to.be.a(\"string\");",
                  "});"
                ]
              }
            }
          ],
          "id": "dcf9ce6d-8546-4bc7-a170-1be0cbe30167",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}:{{logoutServicePort}}/api/cleanup-tokens",
              "host": [
                "{{baseUrl}}"
              ],
              "port": "{{logoutServicePort}}",
              "path": [
                "api",
                "cleanup-tokens"
              ]
            },
            "description": "Clean up expired blacklisted tokens. Maintenance endpoint for admin/service use."
          },
          "response": []
        },
        {
          "name": "Get All Active Sessions",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9774e90b-9353-4969-88a7-2b19ea964156",
                "exec": [
                  "// 1. Status code is 200",
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// 2. Response time is acceptable (under 1000ms)",
                  "pm.test(\"Response time is under 1000ms\", function () {",
                  "    pm.expect(pm.response.responseTime).to.be.below(1000);",
                  "});",
                  "",
                  "// 3. Content-Type header is application/json",
                  "pm.test(\"Content-Type header is application/json\", function () {",
                  "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
                  "});",
                  "",
                  "// 4. Response has success=true",
                  "pm.test(\"Response has success equal to true\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"success\");",
                  "    pm.expect(jsonData.success).to.be.true;",
                  "});",
                  "",
                  "// 5. Response has data.activeSessions array",
                  "pm.test(\"Response has data.activeSessions array\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"data\");",
                  "    pm.expect(jsonData.data).to.have.property(\"activeSessions\");",
                  "    pm.expect(jsonData.data.activeSessions).to.be.an(\"array\");",
                  "});",
                  "",
                  "// 6. Response has data.totalSessions number",
                  "pm.test(\"Response has data.totalSessions as a number\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property(\"data\");",
                  "    pm.expect(jsonData.data).to.have.property(\"totalSessions\");",
                  "    pm.expect(jsonData.data.totalSessions).to.be.a(\"number\");",
                  "});",
                  "",
                  "// 7. Each session in the array has expected properties",
                  "pm.test(\"Each session has expected properties (sessionId, createdAt)\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    const activeSessions = jsonData.data.activeSessions;",
                  "    ",
                  "    if (activeSessions.length > 0) {",
                  "        activeSessions.forEach((session, index) => {",
                  "            pm.expect(session, `Session at index ${index}`).to.have.property(\"sessionId\");",
                  "            pm.expect(session.sessionId, `sessionId at index ${index}`).to.be.a(\"string\");",
                  "            ",
                  "            pm.expect(session, `Session at index ${index}`).to.have.property(\"createdAt\");",
                  "            pm.expect(session.createdAt, `createdAt at index ${index}`).to.be.a(\"string\");",
                  "        });",
                  "    }",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "d9a6ff70-275c-489a-8a63-b76d21b6e157",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "http://localhost:3002/api/sessions",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "3002",
              "path": [
                "api",
                "sessions"
              ]
            },
            "description": "Generated from cURL: curl -X GET \"http://localhost:3002/api/sessions\" -H \"Authorization: Bearer {{accessToken}}\""
          },
          "response": []
        }
      ],
      "id": "066b8a40-8c6b-4cfd-b762-8e5a413eb7bd",
      "description": "Manages token invalidation and session termination (Port 3002)"
    }
  ],
  "variable": [
    {
      "id": "69b77990-f618-487c-b124-2b0ac5e0b58b",
      "key": "baseUrl",
      "value": "http://localhost",
      "type": "default",
      "description": "Base URL for the API. Use 'Local Mock Server' environment for mock, 'Real Services' environment for actual services."
    },
    {
      "id": "59a30faa-afda-4887-bde1-ca90d01ad515",
      "key": "loginServicePort",
      "value": "3001",
      "type": "default",
      "description": "Port for Login Service. Default set to mock server (4500). Use environments to switch between mock and real services."
    },
    {
      "id": "e21d5e67-6f3f-4693-b3bf-59f115288391",
      "key": "logoutServicePort",
      "value": "3002",
      "type": "default",
      "description": "Port for Logout Service. Default set to mock server (4500). Use environments to switch between mock and real services."
    },
    {
      "id": "2cdd08de-b715-4be4-960e-73c21436dd13",
      "key": "accessToken",
      "value": "null",
      "type": "default"
    },
    {
      "id": "fe0033be-e3d2-4316-9b1e-16422b54fa63",
      "key": "refreshToken",
      "value": "",
      "type": "default"
    },
    {
      "id": "c386d4a4-7157-4ffb-9ef1-baac1e4beda1",
      "key": "userId",
      "value": "697009f24c20cdd717a0d499",
      "type": "default"
    },
    {
      "id": "bf3ed313-3808-4cc4-bcef-ceee0d06a36c",
      "key": "randomEmail",
      "value": ""
    },
    {
      "id": "d649f67f-0b99-4dd8-9cd2-01d9bd3ae5c5",
      "key": "randomPassword",
      "value": ""
    },
    {
      "id": "9d629bc6-38a3-4f21-9a05-e6dd0ca38355",
      "key": "userEmail",
      "value": ""
    }
  ]
}